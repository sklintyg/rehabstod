apiVersion: v1
data:
  idp-sakerhetstjanst.xml: |
    <?xml version="1.0" encoding="UTF-8"?>
    <md:EntityDescriptor xmlns:mdattr="urn:oasis:names:tc:SAML:metadata:attribute" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:idpdisc="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata" xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" entityID="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml">
      <md:Extensions>
        <mdattr:EntityAttributes>
          <saml:Attribute Name="urn:oasis:names:tc:SAML:attribute:assurance-certification" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">
            <saml:AttributeValue>https://id.sambi.se/loa/loa3</saml:AttributeValue>
          </saml:Attribute>
        </mdattr:EntityAttributes>
      </md:Extensions>
      <md:IDPSSODescriptor WantAuthnRequestsSigned="false" protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">
        <md:KeyDescriptor use="signing">
          <ds:KeyInfo>
            <ds:X509Data>
              <ds:X509Certificate>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</ds:X509Certificate>
            </ds:X509Data>
          </ds:KeyInfo>
        </md:KeyDescriptor>
        <md:KeyDescriptor use="signing">
          <ds:KeyInfo>
            <ds:X509Data>
              <ds:X509Certificate>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</ds:X509Certificate>
            </ds:X509Data>
          </ds:KeyInfo>
        </md:KeyDescriptor>
        <md:ArtifactResolutionService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/artifact/SOAP" index="1" isDefault="false"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/slo/HTTP-POST"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/slo/HTTP-Redirect"/>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>
        <md:SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/sso/HTTP-Redirect"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/employeeHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="employeeHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/systemRole" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="systemRole"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="assignmentName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/groupPrescriptionCode" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="groupPrescriptionCode"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareUnitName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careUnitName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionRight" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="commissionRight"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareUnitHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careUnitHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareProviderName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careProviderName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/mail" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="mail"/>
        <saml:Attribute Name="urn:sambi:names:attribute:levelOfAssurance" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="levelOfAssurance"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/paTitleCode" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="titleCode"/>
        <saml:Attribute Name="urn:sambi:names:attribute:x509IssuerName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="x509IssuerName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/givenName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="givenName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/surname" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="middleAndSurname"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="assignmentHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionPurpose" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="commissionPurpose"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareProviderHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careProviderHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/personalIdentityNumber" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="personalIdentityNumber"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthcareProfessionalLicense" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="title"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/personalPrescriptionCode" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="personalPrescriptionCode"/>
        <saml:Attribute Name="urn:sambi:names:attribute:authnMethod" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="authnMethod"/>
      </md:IDPSSODescriptor>
      <md:Organization>
        <md:OrganizationName xml:lang="sv">S채kerhetstj채nster</md:OrganizationName>
        <md:OrganizationDisplayName xml:lang="sv">S채kerhetstj채nster</md:OrganizationDisplayName>
        <md:OrganizationURL xml:lang="sv">https://idp.acctest.sakerhetstjanst.inera.se:443/idp/saml</md:OrganizationURL>
      </md:Organization>
      <md:ContactPerson xml:lang="sv" contactType="technical">
        <md:Company>CGI</md:Company>
        <md:GivenName>Anders</md:GivenName>
        <md:SurName>Andersson</md:SurName>
        <md:EmailAddress>anders.andersson@example.com</md:EmailAddress>
        <md:TelephoneNumber>0701234567</md:TelephoneNumber>
      </md:ContactPerson>
    </md:EntityDescriptor>
  logback-ocp.xml: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <!--
      ~ Copyright (C) 2018 Inera AB (http://www.inera.se)
      ~
      ~ This file is part of sklintyg (https://github.com/sklintyg).
      ~
      ~ sklintyg is free software: you can redistribute it and/or modify
      ~ it under the terms of the GNU General Public License as published by
      ~ the Free Software Foundation, either version 3 of the License, or
      ~ (at your option) any later version.
      ~
      ~ sklintyg is distributed in the hope that it will be useful,
      ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
      ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
      ~ GNU General Public License for more details.
      ~
      ~ You should have received a copy of the GNU General Public License
      ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
      -->
    <configuration>
        <!-- logback config for the Openshift Container Platform (OCP). Stream to stdout, use layout and appenders from infra. -->

        <property name="APP_NAME" value="${APP_NAME:-rehabstod}"/>

        <!-- INTYG-7892: Ugly fix to avoid rebuild of infra and all applications for 2018-4 -->
        <!-- The tags below comes from logback-ocp-base.xml in infra with changes to LINE -->
        <!-- The changes to LINE will be implemented in 2019-1 and the block below will be removed -->
        <property name="TIMESTAMP" value="%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level"/>
        <property name="SESSION" value="%X{req.sessionInfo:--}"/>
        <property name="TRACE" value="%X{req.traceId:--}"/>
        <property name="LINE" value="--- %-40.40logger{39} : %replace(%m%rEx){'[\r\n]+', '&#x000D;'}%nopex%n"/>

        <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
            <filter class="se.inera.intyg.infra.monitoring.logging.MarkerFilter">
                <markers>Monitoring,Validation</markers>
                <onMatch>DENY</onMatch>
                <onMismatch>ACCEPT</onMismatch>
            </filter>
            <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                <pattern>${TIMESTAMP} [console,${SESSION},${TRACE}] ${LINE}</pattern>
            </encoder>
        </appender>

        <appender name="MONITORING" class="ch.qos.logback.core.ConsoleAppender">
            <filter class="se.inera.intyg.infra.monitoring.logging.MarkerFilter">
                <marker>Monitoring</marker>
                <onMatch>ACCEPT</onMatch>
                <onMismatch>DENY</onMismatch>
            </filter>
            <encoder class="se.inera.intyg.infra.monitoring.logging.UserPatternLayout">
                <pattern>${TIMESTAMP} [monitoring,${SESSION},${TRACE},%user] ${LINE}</pattern>
            </encoder>
        </appender>

        <appender name="VALIDATION" class="ch.qos.logback.core.ConsoleAppender">
            <filter class="se.inera.intyg.infra.monitoring.logging.MarkerFilter">
                <marker>Validation</marker>
                <onMatch>ACCEPT</onMatch>
                <onMismatch>DENY</onMismatch>
            </filter>
            <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                <pattern>${TIMESTAMP} [validation,${SESSION},${TRACE}] ${LINE}</pattern>
            </encoder>
        </appender>

        <appender name="PROCESS" class="ch.qos.logback.core.ConsoleAppender">
            <filter class="se.inera.intyg.infra.monitoring.logging.MarkerFilter">
                <markers>Monitoring,Validation</markers>
                <onMatch>DENY</onMatch>
                <onMismatch>ACCEPT</onMismatch>
            </filter>
            <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                <pattern>${TIMESTAMP} [process,${SESSION},${TRACE}] ${LINE}</pattern>
            </encoder>
        </appender>

        <appender name="ACCESS" class="ch.qos.logback.core.ConsoleAppender">
            <filter class="se.inera.intyg.infra.monitoring.logging.MarkerFilter">
                <markers>Monitoring,Validation</markers>
                <onMatch>DENY</onMatch>
                <onMismatch>ACCEPT</onMismatch>
            </filter>
            <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                <pattern>${TIMESTAMP} [access,${SESSION},${TRACE}] ${LINE}</pattern>
            </encoder>
        </appender>

        <appender name="FRONTEND" class="ch.qos.logback.core.ConsoleAppender">
            <filter class="se.inera.intyg.infra.monitoring.logging.MarkerFilter">
                <markers>Monitoring,Validation</markers>
                <onMatch>DENY</onMatch>
                <onMismatch>ACCEPT</onMismatch>
            </filter>
            <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
                <pattern>${TIMESTAMP} [frontend,${SESSION},${TRACE}] ${LINE}</pattern>
            </encoder>
        </appender>

        <!-- End of fix for INTYG-7893 -->

        <logger name="com.fasterxml.jackson" level="off" />

        <logger name="org.apache.cxf" level="off" />

        <logger name="org.hibernate.engine.jdbc.spi.SqlExceptionHelper" level="off" />

        <logger name="org.springframework.transaction" level="info" />

        <logger name="se.inera.intyg.schemas.contract.Personnummer" level="info" />

        <logger name="se.inera.intyg.infra.integration" level="info" />

        <logger name="se.inera.intyg.infra.sjukfall" level="info" />

        <logger name="se.inera.intyg.rehabstod" level="info" />

        <logger name="se.inera.intyg.rehabstod.service.pdl" level="warn" />

        <logger name="se.inera.intyg.rehabstod.service.monitoring.MonitoringLogService" level="info" additivity="false">
            <appender-ref ref="MONITORING" />
        </logger>

        <root level="WARN">
            <appender-ref ref="CONSOLE"/>
        </root>

    </configuration>
  rehabstod.properties: |
    # Configuration and resource folders
    config.dir=${config.folder}
    resources.dir=${resources.folder}

    #
    srs.host.url=http://10.250.3.215:8190/services
    srs.service.logicalAddress=

    # Host URLs
    intygstjanst.host.url=http://intygstjanst:8080
    ntjp.base.url=https://qa.esb.ntjp.se/vp
    rehabstod.host.url=http://rehabstod:8080
    statistik.sjunet.host.url=https://statistik:8080
    webcert.view.urltemplate=https://webcert:8080/visa/intyg/{intygsId}/readonly?enhet={enhet}

    infrastructure.directory.logicalAddress=SE165565594230-1000
    it.service.logicalAddress=
    sparrtjanst.service.logicalAddress=SE165565594230-1000
    putjanst.logicaladdress=SE165565594230-1000

    # Dynamic loading of identities into HSA stub
    hsa.stub.additional.identities.folder=${resources.folder}/hsadata

    activemq.broker.url=${broker.amq.tcp.port}\
    ?jms.nonBlockingRedelivery=true\
    &jms.redeliveryPolicy.maximumRedeliveries=3\
    &jms.redeliveryPolicy.maximumRedeliveryDelay=6000\
    &jms.redeliveryPolicy.initialRedeliveryDelay=4000\
    &jms.redeliveryPolicy.useExponentialBackOff=true\
    &jms.redeliveryPolicy.backOffMultiplier=2

    db.driver=com.mysql.jdbc.Driver
  sp-sakerhetstjanst.xml: |
    <?xml version="1.0" encoding="UTF-8"?>
    <md:EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata" ID="https___verifiering.rehabstod.intygstjanster.se" entityID="https://verifiering.rehabstod.intygstjanster.se">
      <md:SPSSODescriptor AuthnRequestsSigned="false" WantAssertionsSigned="true" protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">

        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://verifiering.rehabstod.intygstjanster.se/saml/SingleLogout/alias/defaultAlias"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://verifiering.rehabstod.intygstjanster.se/saml/SingleLogout/alias/defaultAlias"/>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</md:NameIDFormat>
        <md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://verifiering.rehabstod.intygstjanster.se/saml/SSO/alias/defaultAlias" index="0" isDefault="true"/>
        <md:AttributeConsumingService index="1">
          <md:ServiceName xml:lang="sv">TestSP med HSA-uppslag</md:ServiceName>
          <md:RequestedAttribute Name="http://sambi.se/attributes/1/employeeHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="employeeHsaId" isRequired="true"/>
          <md:RequestedAttribute Name="urn:sambi:names:attribute:authnMethod" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="authnMethod" isRequired="true"/>
        </md:AttributeConsumingService>
      </md:SPSSODescriptor>
    </md:EntityDescriptor>
kind: ConfigMap
metadata:
  creationTimestamp: 2019-04-15T10:49:20Z
  name: rehabstod-config
  namespace: sintyg
  resourceVersion: "75651579"
  selfLink: /api/v1/namespaces/sintyg/configmaps/rehabstod-config
  uid: 1fe886c3-5f6c-11e9-8635-005056a1b955
